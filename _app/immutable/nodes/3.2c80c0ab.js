import{s as we,n as Ee,e as Me,o as je,f as pe,r as Ae}from"../chunks/scheduler.1f6706a1.js";import{S as Re,i as Ne,s as H,g as v,z as Se,f as o,c as L,h as u,j as m,A as ee,k as l,a as Q,x as e,m as F,H as Oe,n as B,D as qe,o as ne,C as Pe,y as Te}from"../chunks/index.fb444567.js";import{g as Ge,f as De,e as Ie,s as Ue}from"../chunks/Constants.e3c409ee.js";import{b as ye}from"../chunks/paths.b69a7e87.js";import{p as ze}from"../chunks/stores.5a5bdae5.js";const{document:he}=Ge;function ke(a,t,r){const s=a.slice();return s[14]=t[r],s}function Ce(a){let t,r='<div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div> <div class="nucleobase svelte-s4puht"></div>';return{c(){t=v("div"),t.innerHTML=r,this.h()},l(s){t=u(s,"DIV",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1vxv50n"&&(t.innerHTML=r),this.h()},h(){l(t,"class","DNA_cont svelte-s4puht")},m(s,g){Q(s,t,g)},d(s){s&&o(t)}}}function He(a){let t,r,s,g=a[1].title+"",y,E,f,i,p,d=(De[a[1].start.split("T")[0]]??a[1].start.split("T")[0])+"",_,V,I,S,N=a[1].start.split("T")[1].split("+")[0]+" - "+a[1].end.split("T")[1].split("+")[0],O,h,n,T,M="Objectifs :",q,P,J,W=a[1].objectives.join("")+"",j,D,A,R,G,Z,U,w,$,te,oe,z,K,fe='<strong class="svelte-s4puht">Liste de lecture :</strong>',ce,X,Y=Ie(a[4]),k=[];for(let c=0;c<Y.length;c+=1)k[c]=Le(ke(a,Y,c));return{c(){t=v("div"),r=v("div"),s=v("h1"),y=F(g),E=H(),f=v("div"),i=v("div"),p=F("üóìÔ∏è "),_=F(d),V=H(),I=v("div"),S=F("üï£ "),O=F(N),h=H(),n=v("div"),T=v("strong"),T.textContent=M,q=H(),P=v("div"),J=new Oe(!1),j=H(),D=v("div"),A=v("div"),R=v("div"),G=v("strong"),Z=F(a[2]),U=H(),w=v("video"),$=v("track"),oe=H(),z=v("div"),K=v("div"),K.innerHTML=fe,ce=H(),X=v("div");for(let c=0;c<k.length;c+=1)k[c].c();this.h()},l(c){t=u(c,"DIV",{class:!0});var C=m(t);r=u(C,"DIV",{class:!0});var b=m(r);s=u(b,"H1",{class:!0});var x=m(s);y=B(x,g),x.forEach(o),E=L(b),f=u(b,"DIV",{class:!0});var se=m(f);i=u(se,"DIV",{class:!0});var ve=m(i);p=B(ve,"üóìÔ∏è "),_=B(ve,d),ve.forEach(o),V=L(se),I=u(se,"DIV",{class:!0});var ue=m(I);S=B(ue,"üï£ "),O=B(ue,N),ue.forEach(o),se.forEach(o),b.forEach(o),h=L(C),n=u(C,"DIV",{class:!0});var le=m(n);T=u(le,"STRONG",{class:!0,"data-svelte-h":!0}),ee(T)!=="svelte-1jn7qe7"&&(T.textContent=M),q=L(le),P=u(le,"DIV",{class:!0});var _e=m(P);J=qe(_e,!1),_e.forEach(o),le.forEach(o),C.forEach(o),j=L(c),D=u(c,"DIV",{class:!0});var ae=m(D);A=u(ae,"DIV",{class:!0});var ie=m(A);R=u(ie,"DIV",{class:!0});var me=m(R);G=u(me,"STRONG",{class:!0});var ge=m(G);Z=B(ge,a[2]),ge.forEach(o),me.forEach(o),U=L(ie),w=u(ie,"VIDEO",{class:!0,src:!0});var be=m(w);$=u(be,"TRACK",{kind:!0,class:!0}),be.forEach(o),ie.forEach(o),oe=L(ae),z=u(ae,"DIV",{class:!0});var re=m(z);K=u(re,"DIV",{class:!0,"data-svelte-h":!0}),ee(K)!=="svelte-1qyb1c1"&&(K.innerHTML=fe),ce=L(re),X=u(re,"DIV",{class:!0});var Ve=m(X);for(let de=0;de<k.length;de+=1)k[de].l(Ve);Ve.forEach(o),re.forEach(o),ae.forEach(o),this.h()},h(){l(s,"class","svelte-s4puht"),l(i,"class","svelte-s4puht"),l(I,"class","svelte-s4puht"),l(f,"class","date-time subtitle svelte-s4puht"),l(r,"class","session-header svelte-s4puht"),l(T,"class","svelte-s4puht"),J.a=null,l(P,"class","svelte-s4puht"),l(n,"class","objectives svelte-s4puht"),l(t,"class","detail svelte-s4puht"),l(G,"class","svelte-s4puht"),l(R,"class","svelte-s4puht"),l($,"kind","captions"),l($,"class","svelte-s4puht"),w.controls=!0,l(w,"class","video-player svelte-s4puht"),pe(w.src,te=a[3])||l(w,"src",te),l(A,"class","video-container svelte-s4puht"),l(K,"class","svelte-s4puht"),l(X,"class","playlist svelte-s4puht"),l(z,"class","playlist-container svelte-s4puht"),l(D,"class","media svelte-s4puht")},m(c,C){Q(c,t,C),e(t,r),e(r,s),e(s,y),e(r,E),e(r,f),e(f,i),e(i,p),e(i,_),e(f,V),e(f,I),e(I,S),e(I,O),e(t,h),e(t,n),e(n,T),e(n,q),e(n,P),J.m(W,P),Q(c,j,C),Q(c,D,C),e(D,A),e(A,R),e(R,G),e(G,Z),e(A,U),e(A,w),e(w,$),e(D,oe),e(D,z),e(z,K),e(z,ce),e(z,X);for(let b=0;b<k.length;b+=1)k[b]&&k[b].m(X,null)},p(c,C){if(C&2&&g!==(g=c[1].title+"")&&ne(y,g),C&2&&d!==(d=(De[c[1].start.split("T")[0]]??c[1].start.split("T")[0])+"")&&ne(_,d),C&2&&N!==(N=c[1].start.split("T")[1].split("+")[0]+" - "+c[1].end.split("T")[1].split("+")[0])&&ne(O,N),C&2&&W!==(W=c[1].objectives.join("")+"")&&J.p(W),C&4&&ne(Z,c[2]),C&8&&!pe(w.src,te=c[3])&&l(w,"src",te),C&120){Y=Ie(c[4]);let b;for(b=0;b<Y.length;b+=1){const x=ke(c,Y,b);k[b]?k[b].p(x,C):(k[b]=Le(x),k[b].c(),k[b].m(X,null))}for(;b<k.length;b+=1)k[b].d(1);k.length=Y.length}},d(c){c&&(o(t),o(j),o(D)),Pe(k,c)}}}function Le(a){let t,r,s,g,y,E,f,i,p=a[14].title+"",d,_,V,I,S=a[14].start+"",N,O,h,n='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" class="svg-icon svelte-s4puht" xmlns="http://www.w3.org/2000/svg"><path d="M11 5C11 4.44772 11.4477 4 12 4C12.5523 4 13 4.44772 13 5V12.1578L16.2428 8.91501L17.657 10.3292L12.0001 15.9861L6.34326 10.3292L7.75748 8.91501L11 12.1575V5Z" fill="currentColor" class="svelte-s4puht"></path><path d="M4 14H6V18H18V14H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V14Z" fill="currentColor" class="svelte-s4puht"></path></svg> <div class="svelte-s4puht">T√©l√©charger</div>',T,M,q,P;function J(){return a[7](a[14])}function W(){return a[8](a[14])}return{c(){t=v("div"),r=v("div"),s=v("img"),y=H(),E=v("div"),f=v("div"),i=v("strong"),d=F(p),_=H(),V=v("div"),I=v("span"),N=F(S),O=H(),h=v("button"),h.innerHTML=n,T=H(),this.h()},l(j){t=u(j,"DIV",{class:!0});var D=m(t);r=u(D,"DIV",{class:!0});var A=m(r);s=u(A,"IMG",{class:!0,src:!0,alt:!0}),A.forEach(o),y=L(D),E=u(D,"DIV",{class:!0});var R=m(E);f=u(R,"DIV",{class:!0});var G=m(f);i=u(G,"STRONG",{class:!0});var Z=m(i);d=B(Z,p),Z.forEach(o),G.forEach(o),_=L(R),V=u(R,"DIV",{class:!0});var U=m(V);I=u(U,"SPAN",{class:!0});var w=m(I);N=B(w,S),w.forEach(o),O=L(U),h=u(U,"BUTTON",{type:!0,title:!0,class:!0,"data-svelte-h":!0}),ee(h)!=="svelte-okigmr"&&(h.innerHTML=n),U.forEach(o),R.forEach(o),T=L(D),D.forEach(o),this.h()},h(){l(s,"class","thumbnail svelte-s4puht"),pe(s.src,g=a[14].thumbnail)||l(s,"src",g),l(s,"alt",a[14].title),l(r,"class","thumbnail-container svelte-s4puht"),l(i,"class","svelte-s4puht"),l(f,"class","svelte-s4puht"),l(I,"class","svelte-s4puht"),l(h,"type","button"),l(h,"title","T√©l√©charger"),l(h,"class","btn-download svelte-s4puht"),l(V,"class","subtitle svelte-s4puht"),l(E,"class","video-details svelte-s4puht"),l(t,"class",M="playlist-item "+(a[14].url==a[3]?"selected":"")+" svelte-s4puht")},m(j,D){Q(j,t,D),e(t,r),e(r,s),e(t,y),e(t,E),e(E,f),e(f,i),e(i,d),e(E,_),e(E,V),e(V,I),e(I,N),e(V,O),e(V,h),e(t,T),q||(P=[Te(h,"click",J),Te(t,"click",W)],q=!0)},p(j,D){a=j,D&8&&M!==(M="playlist-item "+(a[14].url==a[3]?"selected":"")+" svelte-s4puht")&&l(t,"class",M)},d(j){j&&o(t),q=!1,Ae(P)}}}function Fe(a){let t,r,s,g,y='<i class="gg-chevron-left svelte-s4puht"></i> Retour',E,f;he.title=t=a[1]?a[1].title:"JFR 2023";let i=a[0]&&Ce(),p=!a[0]&&a[1]&&He(a);return{c(){r=H(),s=v("main"),g=v("a"),g.innerHTML=y,E=H(),i&&i.c(),f=H(),p&&p.c(),this.h()},l(d){Se("svelte-4fbbz6",he.head).forEach(o),r=L(d),s=u(d,"MAIN",{class:!0});var V=m(s);g=u(V,"A",{href:!0,class:!0,"data-svelte-h":!0}),ee(g)!=="svelte-1su23mt"&&(g.innerHTML=y),E=L(V),i&&i.l(V),f=L(V),p&&p.l(V),V.forEach(o),this.h()},h(){l(g,"href",ye+"/"),l(g,"class","one-liner svelte-s4puht"),l(s,"class","svelte-s4puht")},m(d,_){Q(d,r,_),Q(d,s,_),e(s,g),e(s,E),i&&i.m(s,null),e(s,f),p&&p.m(s,null)},p(d,[_]){_&2&&t!==(t=d[1]?d[1].title:"JFR 2023")&&(he.title=t),d[0]?i||(i=Ce(),i.c(),i.m(s,f)):i&&(i.d(1),i=null),!d[0]&&d[1]?p?p.p(d,_):(p=He(d),p.c(),p.m(s,null)):p&&(p.d(1),p=null)},i:Ee,o:Ee,d(d){d&&(o(r),o(s)),i&&i.d(),p&&p.d()}}}function Be(a,t,r){let s;Me(a,ze,h=>r(11,s=h));const g=s.url.searchParams;let y;g&&(y=g.get("id"));let E=!0,f,i,p,d,_=[];const V=h=>{var n=new XMLHttpRequest;return n.open("HEAD",h,!1),n.send(),n.status!=404},I=(h,n)=>{r(2,p=h),r(3,d=n)},S=(h,n)=>{const T=document.createElement("a");T.href=n;const M=n.split("."),q="."+M[M.length-1];T.download=Ue(h)+q,T.target="_blank",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return je(async()=>{f=await(await fetch(`${ye}/json/${y}.json`)).json(),r(1,i=f.data.event);for(const n of i.schedule.items)n.vod&&n.vod.media&&n.vod.media.element&&n.vod.media.element.sources&&_.push({title:n.title,url:n.vod.media.element.sources[0].uri,thumbnail:n.vod.media.thumbnail,start:n.start.split("T")[1].split("+")[0]});if(i.picture){const n=i.picture.split("/video/")[0]+"/video/y_1080p_4000kb.mp4";!_.some(M=>M.url===n)&&V(n)&&_.push({title:"[Unlisted Video]",url:n,thumbnail:i.picture,start:i.start.split("T")[1].split("+")[0]})}_.length>0&&(r(2,p=_[0].title),r(3,d=_[0].url)),r(0,E=!1)}),[E,i,p,d,_,I,S,h=>S(h.title,h.url),h=>I(h.title,h.url)]}class We extends Re{constructor(t){super(),Ne(this,t,Be,Fe,we,{})}}export{We as component};
