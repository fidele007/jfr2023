import{s as pe,n as ue,e as ge,o as qe,f as ie}from"../chunks/scheduler.1f6706a1.js";import{S as Ee,i as Ie,s as R,g as u,z as be,f as n,c as A,h as f,j as m,k as r,a as B,m as P,H as Ve,n as M,A as De,D as ke,x as e,o as ee,C as Te,y as je}from"../chunks/index.fb444567.js";import{e as fe}from"../chunks/each.e59479a4.js";import{p as ye}from"../chunks/stores.cc880ec4.js";function he(s,t,a){const l=s.slice();return l[11]=t[a],l}function _e(s){let t,a,l,o,d=s[0].start.split("T")[0]+"",c,_,g,O,q=s[0].start.split("T")[1].split("+")[0]+" - "+s[0].end.split("T")[1].split("+")[0],k,T,E,v=s[0].title+"",G,S,V,w,W="Objectifs :",j,b,N,H=s[0].objectives.join("")+"",U,D,y,F,J,X,te,C,Q,Y,se,z,K=fe(s[3]),I=[];for(let i=0;i<K.length;i+=1)I[i]=me(he(s,K,i));return{c(){t=u("div"),a=u("div"),l=u("div"),o=P("🗓️ "),c=P(d),_=R(),g=u("div"),O=P("🕣 "),k=P(q),T=R(),E=u("h1"),G=P(v),S=R(),V=u("div"),w=u("strong"),w.textContent=W,j=R(),b=u("div"),N=new Ve(!1),U=R(),D=u("div"),y=u("div"),F=u("div"),J=u("strong"),X=P(s[1]),te=R(),C=u("video"),Q=u("track"),se=R(),z=u("div");for(let i=0;i<I.length;i+=1)I[i].c();this.h()},l(i){t=f(i,"DIV",{class:!0});var p=m(t);a=f(p,"DIV",{class:!0});var h=m(a);l=f(h,"DIV",{class:!0});var L=m(l);o=M(L,"🗓️ "),c=M(L,d),L.forEach(n),_=A(h),g=f(h,"DIV",{class:!0});var le=m(g);O=M(le,"🕣 "),k=M(le,q),le.forEach(n),h.forEach(n),T=A(p),E=f(p,"H1",{class:!0});var re=m(E);G=M(re,v),re.forEach(n),S=A(p),V=f(p,"DIV",{class:!0});var Z=m(V);w=f(Z,"STRONG",{class:!0,"data-svelte-h":!0}),De(w)!=="svelte-1jn7qe7"&&(w.textContent=W),j=A(Z),b=f(Z,"DIV",{class:!0});var ne=m(b);N=ke(ne,!1),ne.forEach(n),Z.forEach(n),p.forEach(n),U=A(i),D=f(i,"DIV",{class:!0});var $=m(D);y=f($,"DIV",{class:!0});var x=m(y);F=f(x,"DIV",{class:!0});var oe=m(F);J=f(oe,"STRONG",{class:!0});var de=m(J);X=M(de,s[1]),de.forEach(n),oe.forEach(n),te=A(x),C=f(x,"VIDEO",{class:!0,src:!0});var ce=m(C);Q=f(ce,"TRACK",{kind:!0,class:!0}),ce.forEach(n),x.forEach(n),se=A($),z=f($,"DIV",{class:!0});var ve=m(z);for(let ae=0;ae<I.length;ae+=1)I[ae].l(ve);ve.forEach(n),$.forEach(n),this.h()},h(){r(l,"class","svelte-1e0nd0q"),r(g,"class","svelte-1e0nd0q"),r(a,"class","date-time svelte-1e0nd0q"),r(E,"class","svelte-1e0nd0q"),r(w,"class","svelte-1e0nd0q"),N.a=null,r(b,"class","svelte-1e0nd0q"),r(V,"class","objectives svelte-1e0nd0q"),r(t,"class","detail svelte-1e0nd0q"),r(J,"class","svelte-1e0nd0q"),r(F,"class","svelte-1e0nd0q"),r(Q,"kind","captions"),r(Q,"class","svelte-1e0nd0q"),C.controls=!0,r(C,"class","video-player svelte-1e0nd0q"),ie(C.src,Y=s[2])||r(C,"src",Y),r(y,"class","video-container svelte-1e0nd0q"),r(z,"class","playlist svelte-1e0nd0q"),r(D,"class","media svelte-1e0nd0q")},m(i,p){B(i,t,p),e(t,a),e(a,l),e(l,o),e(l,c),e(a,_),e(a,g),e(g,O),e(g,k),e(t,T),e(t,E),e(E,G),e(t,S),e(t,V),e(V,w),e(V,j),e(V,b),N.m(H,b),B(i,U,p),B(i,D,p),e(D,y),e(y,F),e(F,J),e(J,X),e(y,te),e(y,C),e(C,Q),e(D,se),e(D,z);for(let h=0;h<I.length;h+=1)I[h]&&I[h].m(z,null)},p(i,p){if(p&1&&d!==(d=i[0].start.split("T")[0]+"")&&ee(c,d),p&1&&q!==(q=i[0].start.split("T")[1].split("+")[0]+" - "+i[0].end.split("T")[1].split("+")[0])&&ee(k,q),p&1&&v!==(v=i[0].title+"")&&ee(G,v),p&1&&H!==(H=i[0].objectives.join("")+"")&&N.p(H),p&2&&ee(X,i[1]),p&4&&!ie(C.src,Y=i[2])&&r(C,"src",Y),p&28){K=fe(i[3]);let h;for(h=0;h<K.length;h+=1){const L=he(i,K,h);I[h]?I[h].p(L,p):(I[h]=me(L),I[h].c(),I[h].m(z,null))}for(;h<I.length;h+=1)I[h].d(1);I.length=K.length}},d(i){i&&(n(t),n(U),n(D)),Te(I,i)}}}function me(s){let t,a,l,o,d,c,_,g,O=s[11].start+"",q,k,T,E=s[11].title+"",v,G,S,V,w;function W(){return s[5](s[11])}return{c(){t=u("div"),a=u("div"),l=u("img"),d=R(),c=u("div"),_=u("div"),g=u("strong"),q=P(O),k=R(),T=u("div"),v=P(E),G=R(),this.h()},l(j){t=f(j,"DIV",{class:!0});var b=m(t);a=f(b,"DIV",{class:!0});var N=m(a);l=f(N,"IMG",{class:!0,src:!0,alt:!0}),N.forEach(n),d=A(b),c=f(b,"DIV",{class:!0});var H=m(c);_=f(H,"DIV",{class:!0});var U=m(_);g=f(U,"STRONG",{class:!0});var D=m(g);q=M(D,O),D.forEach(n),U.forEach(n),k=A(H),T=f(H,"DIV",{class:!0});var y=m(T);v=M(y,E),y.forEach(n),H.forEach(n),G=A(b),b.forEach(n),this.h()},h(){r(l,"class","thumbnail svelte-1e0nd0q"),ie(l.src,o=s[11].thumbnail)||r(l,"src",o),r(l,"alt",s[11].title),r(a,"class","thumbnail-container svelte-1e0nd0q"),r(g,"class","svelte-1e0nd0q"),r(_,"class","svelte-1e0nd0q"),r(T,"class","svelte-1e0nd0q"),r(c,"class","video-details svelte-1e0nd0q"),r(t,"class",S="playlist-item "+(s[11].url==s[2]?"selected":"")+" svelte-1e0nd0q")},m(j,b){B(j,t,b),e(t,a),e(a,l),e(t,d),e(t,c),e(c,_),e(_,g),e(g,q),e(c,k),e(c,T),e(T,v),e(t,G),V||(w=je(t,"click",W),V=!0)},p(j,b){s=j,b&4&&S!==(S="playlist-item "+(s[11].url==s[2]?"selected":"")+" svelte-1e0nd0q")&&r(t,"class",S)},d(j){j&&n(t),V=!1,w()}}}function Ce(s){let t,a,l;document.title=t=s[0]?s[0].title:"JFR 2023";let o=s[0]&&_e(s);return{c(){a=R(),l=u("main"),o&&o.c(),this.h()},l(d){be("svelte-4fbbz6",document.head).forEach(n),a=A(d),l=f(d,"MAIN",{class:!0});var _=m(l);o&&o.l(_),_.forEach(n),this.h()},h(){r(l,"class","svelte-1e0nd0q")},m(d,c){B(d,a,c),B(d,l,c),o&&o.m(l,null)},p(d,[c]){c&1&&t!==(t=d[0]?d[0].title:"JFR 2023")&&(document.title=t),d[0]?o?o.p(d,c):(o=_e(d),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},i:ue,o:ue,d(d){d&&(n(a),n(l)),o&&o.d()}}}function Re(s,t,a){let l;ge(s,ye,E=>a(8,l=E));const o=l.url.searchParams;let d;o&&(d=o.get("id"));let c,_,g,O,q=[];const k=(E,v)=>{a(1,g=E),a(2,O=v)};return qe(async()=>{c=await(await fetch(`./json/${d}.json`)).json(),a(0,_=c.data.event);for(const v of _.schedule.items)v.vod&&v.vod.media&&v.vod.media.element&&v.vod.media.element.sources&&q.push({title:v.title,url:v.vod.media.element.sources[0].uri,thumbnail:v.vod.media.thumbnail,start:v.start.split("T")[1].split("+")[0]});if(_.picture){const v=_.picture.split("/video/")[0]+"/video/y_1080p_4000kb.mp4";q.some(S=>S.url===v)||q.push({title:"[Unlisted Video]",url:v,thumbnail:_.picture,start:_.start.split("T")[1].split("+")[0]})}q.length>0&&(a(1,g=q[0].title),a(2,O=q[0].url))}),[_,g,O,q,k,E=>k(E.title,E.url)]}class Ge extends Ee{constructor(t){super(),Ie(this,t,Re,Ce,pe,{})}}export{Ge as component};
