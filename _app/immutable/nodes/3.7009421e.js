import{s as ye,n as Ve,e as Le,o as Me,f as pe,r as je}from"../chunks/scheduler.1f6706a1.js";import{S as Re,i as Ae,s as y,g as o,m as G,z as Se,f as n,c as L,h as c,j as _,n as z,k as s,a as Q,x as e,A as ne,H as Ne,D as Oe,o as re,C as qe,y as Ie}from"../chunks/index.fb444567.js";import{g as Pe,f as ke,e as De,s as Ue}from"../chunks/Constants.e3c409ee.js";import{p as Ge}from"../chunks/stores.8fbb9dd5.js";const{document:he}=Pe;function Te(a,t,i){const l=a.slice();return l[15]=t[i],l}function Ce(a){let t,i='<div class="ls-particles ls-part-1 svelte-s4puht"></div> <div class="ls-particles ls-part-2 svelte-s4puht"></div> <div class="ls-particles ls-part-3 svelte-s4puht"></div> <div class="ls-particles ls-part-4 svelte-s4puht"></div> <div class="ls-particles ls-part-5 svelte-s4puht"></div> <div class="lightsaber ls-left ls-green svelte-s4puht"></div> <div class="lightsaber ls-right ls-red svelte-s4puht"></div>';return{c(){t=o("div"),t.innerHTML=i,this.h()},l(l){t=c(l,"DIV",{id:!0,class:!0,"data-svelte-h":!0}),ne(t)!=="svelte-13d7tsk"&&(t.innerHTML=i),this.h()},h(){s(t,"id","loader"),s(t,"class","svelte-s4puht")},m(l,m){Q(l,t,m)},d(l){l&&n(t)}}}function we(a){let t,i,l,m=a[2].title+"",D,I,b,E,d,v=(ke[a[2].start.split("T")[0]]??a[2].start.split("T")[0])+"",h,p,g,j,R=a[2].start.split("T")[1].split("+")[0]+" - "+a[2].end.split("T")[1].split("+")[0],P,w,f,r,H="Objectifs :",A,N,J,W=a[2].objectives.join("")+"",S,k,O,q,U,Z,F,M,$,ee,oe,B,K,fe='<strong class="svelte-s4puht">Liste de lecture :</strong>',ce,X,Y=De(a[5]),T=[];for(let u=0;u<Y.length;u+=1)T[u]=He(Te(a,Y,u));return{c(){t=o("div"),i=o("div"),l=o("h1"),D=G(m),I=y(),b=o("div"),E=o("div"),d=G("üóìÔ∏è "),h=G(v),p=y(),g=o("div"),j=G("üï£ "),P=G(R),w=y(),f=o("div"),r=o("strong"),r.textContent=H,A=y(),N=o("div"),J=new Ne(!1),S=y(),k=o("div"),O=o("div"),q=o("div"),U=o("strong"),Z=G(a[3]),F=y(),M=o("video"),$=o("track"),oe=y(),B=o("div"),K=o("div"),K.innerHTML=fe,ce=y(),X=o("div");for(let u=0;u<T.length;u+=1)T[u].c();this.h()},l(u){t=c(u,"DIV",{class:!0});var C=_(t);i=c(C,"DIV",{class:!0});var V=_(i);l=c(V,"H1",{class:!0});var x=_(l);D=z(x,m),x.forEach(n),I=L(V),b=c(V,"DIV",{class:!0});var te=_(b);E=c(te,"DIV",{class:!0});var de=_(E);d=z(de,"üóìÔ∏è "),h=z(de,v),de.forEach(n),p=L(te),g=c(te,"DIV",{class:!0});var ve=_(g);j=z(ve,"üï£ "),P=z(ve,R),ve.forEach(n),te.forEach(n),V.forEach(n),w=L(C),f=c(C,"DIV",{class:!0});var se=_(f);r=c(se,"STRONG",{class:!0,"data-svelte-h":!0}),ne(r)!=="svelte-1jn7qe7"&&(r.textContent=H),A=L(se),N=c(se,"DIV",{class:!0});var _e=_(N);J=Oe(_e,!1),_e.forEach(n),se.forEach(n),C.forEach(n),S=L(u),k=c(u,"DIV",{class:!0});var le=_(k);O=c(le,"DIV",{class:!0});var ae=_(O);q=c(ae,"DIV",{class:!0});var me=_(q);U=c(me,"STRONG",{class:!0});var ge=_(U);Z=z(ge,a[3]),ge.forEach(n),me.forEach(n),F=L(ae),M=c(ae,"VIDEO",{class:!0,src:!0});var be=_(M);$=c(be,"TRACK",{kind:!0,class:!0}),be.forEach(n),ae.forEach(n),oe=L(le),B=c(le,"DIV",{class:!0});var ie=_(B);K=c(ie,"DIV",{class:!0,"data-svelte-h":!0}),ne(K)!=="svelte-1qyb1c1"&&(K.innerHTML=fe),ce=L(ie),X=c(ie,"DIV",{class:!0});var Ee=_(X);for(let ue=0;ue<T.length;ue+=1)T[ue].l(Ee);Ee.forEach(n),ie.forEach(n),le.forEach(n),this.h()},h(){s(l,"class","svelte-s4puht"),s(E,"class","svelte-s4puht"),s(g,"class","svelte-s4puht"),s(b,"class","date-time subtitle svelte-s4puht"),s(i,"class","session-header svelte-s4puht"),s(r,"class","svelte-s4puht"),J.a=null,s(N,"class","svelte-s4puht"),s(f,"class","objectives svelte-s4puht"),s(t,"class","detail svelte-s4puht"),s(U,"class","svelte-s4puht"),s(q,"class","svelte-s4puht"),s($,"kind","captions"),s($,"class","svelte-s4puht"),M.controls=!0,s(M,"class","video-player svelte-s4puht"),pe(M.src,ee=a[4])||s(M,"src",ee),s(O,"class","video-container svelte-s4puht"),s(K,"class","svelte-s4puht"),s(X,"class","playlist svelte-s4puht"),s(B,"class","playlist-container svelte-s4puht"),s(k,"class","media svelte-s4puht")},m(u,C){Q(u,t,C),e(t,i),e(i,l),e(l,D),e(i,I),e(i,b),e(b,E),e(E,d),e(E,h),e(b,p),e(b,g),e(g,j),e(g,P),e(t,w),e(t,f),e(f,r),e(f,A),e(f,N),J.m(W,N),Q(u,S,C),Q(u,k,C),e(k,O),e(O,q),e(q,U),e(U,Z),e(O,F),e(O,M),e(M,$),e(k,oe),e(k,B),e(B,K),e(B,ce),e(B,X);for(let V=0;V<T.length;V+=1)T[V]&&T[V].m(X,null)},p(u,C){if(C&4&&m!==(m=u[2].title+"")&&re(D,m),C&4&&v!==(v=(ke[u[2].start.split("T")[0]]??u[2].start.split("T")[0])+"")&&re(h,v),C&4&&R!==(R=u[2].start.split("T")[1].split("+")[0]+" - "+u[2].end.split("T")[1].split("+")[0])&&re(P,R),C&4&&W!==(W=u[2].objectives.join("")+"")&&J.p(W),C&8&&re(Z,u[3]),C&16&&!pe(M.src,ee=u[4])&&s(M,"src",ee),C&240){Y=De(u[5]);let V;for(V=0;V<Y.length;V+=1){const x=Te(u,Y,V);T[V]?T[V].p(x,C):(T[V]=He(x),T[V].c(),T[V].m(X,null))}for(;V<T.length;V+=1)T[V].d(1);T.length=Y.length}},d(u){u&&(n(t),n(S),n(k)),qe(T,u)}}}function He(a){let t,i,l,m,D,I,b,E,d=a[15].title+"",v,h,p,g,j=a[15].start+"",R,P,w,f='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" class="svg-icon svelte-s4puht" xmlns="http://www.w3.org/2000/svg"><path d="M11 5C11 4.44772 11.4477 4 12 4C12.5523 4 13 4.44772 13 5V12.1578L16.2428 8.91501L17.657 10.3292L12.0001 15.9861L6.34326 10.3292L7.75748 8.91501L11 12.1575V5Z" fill="currentColor" class="svelte-s4puht"></path><path d="M4 14H6V18H18V14H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V14Z" fill="currentColor" class="svelte-s4puht"></path></svg> <div class="svelte-s4puht">T√©l√©charger</div>',r,H,A,N;function J(){return a[8](a[15])}function W(){return a[9](a[15])}return{c(){t=o("div"),i=o("div"),l=o("img"),D=y(),I=o("div"),b=o("div"),E=o("strong"),v=G(d),h=y(),p=o("div"),g=o("span"),R=G(j),P=y(),w=o("button"),w.innerHTML=f,r=y(),this.h()},l(S){t=c(S,"DIV",{class:!0});var k=_(t);i=c(k,"DIV",{class:!0});var O=_(i);l=c(O,"IMG",{class:!0,src:!0,alt:!0}),O.forEach(n),D=L(k),I=c(k,"DIV",{class:!0});var q=_(I);b=c(q,"DIV",{class:!0});var U=_(b);E=c(U,"STRONG",{class:!0});var Z=_(E);v=z(Z,d),Z.forEach(n),U.forEach(n),h=L(q),p=c(q,"DIV",{class:!0});var F=_(p);g=c(F,"SPAN",{class:!0});var M=_(g);R=z(M,j),M.forEach(n),P=L(F),w=c(F,"BUTTON",{type:!0,title:!0,class:!0,"data-svelte-h":!0}),ne(w)!=="svelte-okigmr"&&(w.innerHTML=f),F.forEach(n),q.forEach(n),r=L(k),k.forEach(n),this.h()},h(){s(l,"class","thumbnail svelte-s4puht"),pe(l.src,m=a[15].thumbnail)||s(l,"src",m),s(l,"alt",a[15].title),s(i,"class","thumbnail-container svelte-s4puht"),s(E,"class","svelte-s4puht"),s(b,"class","svelte-s4puht"),s(g,"class","svelte-s4puht"),s(w,"type","button"),s(w,"title","T√©l√©charger"),s(w,"class","btn-download svelte-s4puht"),s(p,"class","subtitle svelte-s4puht"),s(I,"class","video-details svelte-s4puht"),s(t,"class",H="playlist-item "+(a[15].url==a[4]?"selected":"")+" svelte-s4puht")},m(S,k){Q(S,t,k),e(t,i),e(i,l),e(t,D),e(t,I),e(I,b),e(b,E),e(E,v),e(I,h),e(I,p),e(p,g),e(g,R),e(p,P),e(p,w),e(t,r),A||(N=[Ie(w,"click",J),Ie(t,"click",W)],A=!0)},p(S,k){a=S,k&16&&H!==(H="playlist-item "+(a[15].url==a[4]?"selected":"")+" svelte-s4puht")&&s(t,"class",H)},d(S){S&&n(t),A=!1,je(N)}}}function ze(a){let t,i,l,m,D,I,b,E;he.title=t=a[2]?a[2].title:"JFR 2023";let d=a[0]&&Ce(),v=a[2]&&we(a);return{c(){i=y(),l=o("main"),m=o("a"),D=o("i"),I=G(" Retour"),b=y(),d&&d.c(),E=y(),v&&v.c(),this.h()},l(h){Se("svelte-4fbbz6",he.head).forEach(n),i=L(h),l=c(h,"MAIN",{class:!0});var g=_(l);m=c(g,"A",{href:!0,class:!0});var j=_(m);D=c(j,"I",{class:!0}),_(D).forEach(n),I=z(j," Retour"),j.forEach(n),b=L(g),d&&d.l(g),E=L(g),v&&v.l(g),g.forEach(n),this.h()},h(){s(D,"class","gg-chevron-left svelte-s4puht"),s(m,"href",a[1]),s(m,"class","one-liner svelte-s4puht"),s(l,"class","svelte-s4puht")},m(h,p){Q(h,i,p),Q(h,l,p),e(l,m),e(m,D),e(m,I),e(l,b),d&&d.m(l,null),e(l,E),v&&v.m(l,null)},p(h,[p]){p&4&&t!==(t=h[2]?h[2].title:"JFR 2023")&&(he.title=t),p&2&&s(m,"href",h[1]),h[0]?d||(d=Ce(),d.c(),d.m(l,E)):d&&(d.d(1),d=null),h[2]?v?v.p(h,p):(v=we(h),v.c(),v.m(l,null)):v&&(v.d(1),v=null)},i:Ve,o:Ve,d(h){h&&(n(i),n(l)),d&&d.d(),v&&v.d()}}}function Fe(a,t,i){let l;Le(a,Ge,f=>i(12,l=f));const m=l.url.searchParams;let D;m&&(D=m.get("id"));let I=!0,b,E,d,v,h,p=[];const g=f=>{var r=new XMLHttpRequest;return r.open("HEAD",f,!1),r.send(),r.status!=404},j=(f,r)=>{i(3,v=f),i(4,h=r)},R=(f,r)=>{const H=document.createElement("a");H.href=r;const A=r.split("."),N="."+A[A.length-1];H.download=Ue(f)+N,H.target="_blank",document.body.appendChild(H),H.click(),document.body.removeChild(H)};return Me(async()=>{i(1,b=window.location.href.split("/session?")[0]),E=await(await fetch(`./json/${D}.json`)).json(),i(2,d=E.data.event);for(const r of d.schedule.items)r.vod&&r.vod.media&&r.vod.media.element&&r.vod.media.element.sources&&p.push({title:r.title,url:r.vod.media.element.sources[0].uri,thumbnail:r.vod.media.thumbnail,start:r.start.split("T")[1].split("+")[0]});if(d.picture){const r=d.picture.split("/video/")[0]+"/video/y_1080p_4000kb.mp4";!p.some(A=>A.url===r)&&g(r)&&p.push({title:"[Unlisted Video]",url:r,thumbnail:d.picture,start:d.start.split("T")[1].split("+")[0]})}p.length>0&&(i(3,v=p[0].title),i(4,h=p[0].url)),i(0,I=!1)}),[I,b,d,v,h,p,j,R,f=>R(f.title,f.url),f=>j(f.title,f.url)]}class Xe extends Re{constructor(t){super(),Ae(this,t,Fe,ze,ye,{})}}export{Xe as component};
