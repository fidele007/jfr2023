import{s as ge,n as fe,e as Ee,o as Ie,f as ie}from"../chunks/scheduler.1f6706a1.js";import{S as be,i as Ve,s as j,g as d,z as De,f as n,c as C,h as v,j as m,A as pe,k as r,a as B,x as e,m as q,H as ke,n as z,D as Te,o as ee,C as je,y as Ce}from"../chunks/index.fb444567.js";import{e as ue}from"../chunks/each.e59479a4.js";import{p as ye}from"../chunks/stores.a60d6e64.js";function he(l,s,c){const a=l.slice();return a[11]=s[c],a}function _e(l){let s,c,a,g,D=l[0].start.split("T")[0]+"",_,t,i,E,u=l[0].start.split("T")[1].split("+")[0]+" - "+l[0].end.split("T")[1].split("+")[0],y,R,I,f=l[0].title+"",H,w,k,G,W="Objectifs :",A,V,P,N=l[0].objectives.join("")+"",M,T,O,F,J,X,te,S,Q,Y,se,U,K=ue(l[3]),b=[];for(let o=0;o<K.length;o+=1)b[o]=me(he(l,K,o));return{c(){s=d("div"),c=d("div"),a=d("div"),g=q("🗓️ "),_=q(D),t=j(),i=d("div"),E=q("🕣 "),y=q(u),R=j(),I=d("h1"),H=q(f),w=j(),k=d("div"),G=d("strong"),G.textContent=W,A=j(),V=d("div"),P=new ke(!1),M=j(),T=d("div"),O=d("div"),F=d("div"),J=d("strong"),X=q(l[1]),te=j(),S=d("video"),Q=d("track"),se=j(),U=d("div");for(let o=0;o<b.length;o+=1)b[o].c();this.h()},l(o){s=v(o,"DIV",{class:!0});var p=m(s);c=v(p,"DIV",{class:!0});var h=m(c);a=v(h,"DIV",{class:!0});var L=m(a);g=z(L,"🗓️ "),_=z(L,D),L.forEach(n),t=C(h),i=v(h,"DIV",{class:!0});var le=m(i);E=z(le,"🕣 "),y=z(le,u),le.forEach(n),h.forEach(n),R=C(p),I=v(p,"H1",{class:!0});var re=m(I);H=z(re,f),re.forEach(n),w=C(p),k=v(p,"DIV",{class:!0});var Z=m(k);G=v(Z,"STRONG",{class:!0,"data-svelte-h":!0}),pe(G)!=="svelte-1jn7qe7"&&(G.textContent=W),A=C(Z),V=v(Z,"DIV",{class:!0});var ce=m(V);P=Te(ce,!1),ce.forEach(n),Z.forEach(n),p.forEach(n),M=C(o),T=v(o,"DIV",{class:!0});var $=m(T);O=v($,"DIV",{class:!0});var x=m(O);F=v(x,"DIV",{class:!0});var oe=m(F);J=v(oe,"STRONG",{class:!0});var ne=m(J);X=z(ne,l[1]),ne.forEach(n),oe.forEach(n),te=C(x),S=v(x,"VIDEO",{class:!0,src:!0});var de=m(S);Q=v(de,"TRACK",{kind:!0,class:!0}),de.forEach(n),x.forEach(n),se=C($),U=v($,"DIV",{class:!0});var ve=m(U);for(let ae=0;ae<b.length;ae+=1)b[ae].l(ve);ve.forEach(n),$.forEach(n),this.h()},h(){r(a,"class","svelte-frc98"),r(i,"class","svelte-frc98"),r(c,"class","date-time svelte-frc98"),r(I,"class","svelte-frc98"),r(G,"class","svelte-frc98"),P.a=null,r(V,"class","svelte-frc98"),r(k,"class","objectives svelte-frc98"),r(s,"class","detail svelte-frc98"),r(J,"class","svelte-frc98"),r(F,"class","svelte-frc98"),r(Q,"kind","captions"),r(Q,"class","svelte-frc98"),S.controls=!0,r(S,"class","video-player svelte-frc98"),ie(S.src,Y=l[2])||r(S,"src",Y),r(O,"class","video-container svelte-frc98"),r(U,"class","playlist svelte-frc98"),r(T,"class","media svelte-frc98")},m(o,p){B(o,s,p),e(s,c),e(c,a),e(a,g),e(a,_),e(c,t),e(c,i),e(i,E),e(i,y),e(s,R),e(s,I),e(I,H),e(s,w),e(s,k),e(k,G),e(k,A),e(k,V),P.m(N,V),B(o,M,p),B(o,T,p),e(T,O),e(O,F),e(F,J),e(J,X),e(O,te),e(O,S),e(S,Q),e(T,se),e(T,U);for(let h=0;h<b.length;h+=1)b[h]&&b[h].m(U,null)},p(o,p){if(p&1&&D!==(D=o[0].start.split("T")[0]+"")&&ee(_,D),p&1&&u!==(u=o[0].start.split("T")[1].split("+")[0]+" - "+o[0].end.split("T")[1].split("+")[0])&&ee(y,u),p&1&&f!==(f=o[0].title+"")&&ee(H,f),p&1&&N!==(N=o[0].objectives.join("")+"")&&P.p(N),p&2&&ee(X,o[1]),p&4&&!ie(S.src,Y=o[2])&&r(S,"src",Y),p&28){K=ue(o[3]);let h;for(h=0;h<K.length;h+=1){const L=he(o,K,h);b[h]?b[h].p(L,p):(b[h]=me(L),b[h].c(),b[h].m(U,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=K.length}},d(o){o&&(n(s),n(M),n(T)),je(b,o)}}}function me(l){let s,c,a,g,D,_,t,i,E=l[11].start+"",u,y,R,I=l[11].title+"",f,H,w,k,G;function W(){return l[5](l[11])}return{c(){s=d("div"),c=d("div"),a=d("img"),D=j(),_=d("div"),t=d("div"),i=d("strong"),u=q(E),y=j(),R=d("div"),f=q(I),H=j(),this.h()},l(A){s=v(A,"DIV",{class:!0});var V=m(s);c=v(V,"DIV",{class:!0});var P=m(c);a=v(P,"IMG",{class:!0,src:!0,alt:!0}),P.forEach(n),D=C(V),_=v(V,"DIV",{class:!0});var N=m(_);t=v(N,"DIV",{class:!0});var M=m(t);i=v(M,"STRONG",{class:!0});var T=m(i);u=z(T,E),T.forEach(n),M.forEach(n),y=C(N),R=v(N,"DIV",{class:!0});var O=m(R);f=z(O,I),O.forEach(n),N.forEach(n),H=C(V),V.forEach(n),this.h()},h(){r(a,"class","thumbnail svelte-frc98"),ie(a.src,g=l[11].thumbnail)||r(a,"src",g),r(a,"alt",l[11].title),r(c,"class","thumbnail-container svelte-frc98"),r(i,"class","svelte-frc98"),r(t,"class","svelte-frc98"),r(R,"class","svelte-frc98"),r(_,"class","video-details svelte-frc98"),r(s,"class",w="playlist-item "+(l[11].url==l[2]?"selected":"")+" svelte-frc98")},m(A,V){B(A,s,V),e(s,c),e(c,a),e(s,D),e(s,_),e(_,t),e(t,i),e(i,u),e(_,y),e(_,R),e(R,f),e(s,H),k||(G=Ce(s,"click",W),k=!0)},p(A,V){l=A,V&4&&w!==(w="playlist-item "+(l[11].url==l[2]?"selected":"")+" svelte-frc98")&&r(s,"class",w)},d(A){A&&n(s),k=!1,G()}}}function Re(l){let s,c,a,g,D="〱 Retour",_;document.title=s=l[0]?l[0].title:"JFR 2023";let t=l[0]&&_e(l);return{c(){c=j(),a=d("main"),g=d("a"),g.textContent=D,_=j(),t&&t.c(),this.h()},l(i){De("svelte-4fbbz6",document.head).forEach(n),c=C(i),a=v(i,"MAIN",{class:!0});var u=m(a);g=v(u,"A",{href:!0,class:!0,"data-svelte-h":!0}),pe(g)!=="svelte-1nnvzb7"&&(g.textContent=D),_=C(u),t&&t.l(u),u.forEach(n),this.h()},h(){r(g,"href","./"),r(g,"class","svelte-frc98"),r(a,"class","svelte-frc98")},m(i,E){B(i,c,E),B(i,a,E),e(a,g),e(a,_),t&&t.m(a,null)},p(i,[E]){E&1&&s!==(s=i[0]?i[0].title:"JFR 2023")&&(document.title=s),i[0]?t?t.p(i,E):(t=_e(i),t.c(),t.m(a,null)):t&&(t.d(1),t=null)},i:fe,o:fe,d(i){i&&(n(c),n(a)),t&&t.d()}}}function Ae(l,s,c){let a;Ee(l,ye,I=>c(8,a=I));const g=a.url.searchParams;let D;g&&(D=g.get("id"));let _,t,i,E,u=[];const y=(I,f)=>{c(1,i=I),c(2,E=f)};return Ie(async()=>{_=await(await fetch(`./json/${D}.json`)).json(),c(0,t=_.data.event);for(const f of t.schedule.items)f.vod&&f.vod.media&&f.vod.media.element&&f.vod.media.element.sources&&u.push({title:f.title,url:f.vod.media.element.sources[0].uri,thumbnail:f.vod.media.thumbnail,start:f.start.split("T")[1].split("+")[0]});if(t.picture){const f=t.picture.split("/video/")[0]+"/video/y_1080p_4000kb.mp4";u.some(w=>w.url===f)||u.push({title:"[Unlisted Video]",url:f,thumbnail:t.picture,start:t.start.split("T")[1].split("+")[0]})}u.length>0&&(c(1,i=u[0].title),c(2,E=u[0].url))}),[t,i,E,u,y,I=>y(I.title,I.url)]}class He extends be{constructor(s){super(),Ve(this,s,Ae,Re,ge,{})}}export{He as component};
